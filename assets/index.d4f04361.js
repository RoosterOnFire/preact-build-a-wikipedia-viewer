var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,c=(e,t)=>{for(var r in t||(t={}))s.call(t,r)&&i(e,r,t[r]);if(a)for(var r of a(t))n.call(t,r)&&i(e,r,t[r]);return e};import{a as l,p as o,N as u}from"./vendor.b96fcc59.js";function p(e){return l("div",{class:"container"},l("form",{onSubmit:e.onSubmit},l("div",{class:"min-w-min max-w-4xl p-8 mx-auto"},l("div",{class:" bg-white flex items-center rounded-full shadow-xl"},l("input",{class:"rounded-l-full w-full p-6 text-gray-700 leading-tight focus:outline-none",id:"search",type:"text",placeholder:e.search.placeholder,onInput:e.onInput}),l("div",{class:"p-4"},l("button",{type:"submit",class:"bg-blue-500 text-white rounded-full p-4 hover:bg-blue-400 focus:outline-none w-20 h-12 flex items-center justify-center"},e.search.text))))))}function h({result:{query:e}}){const t=Object.values(e.pages).map((e=>{const t=`https://en.wikipedia.org/?curid=${e.pageid}`;return l("div",{class:"container box-border p-4 border-l-4 border-b-4 shadow-md text-left",key:e.pageid},l("a",{class:"space-y-1.5",href:t,target:"_blank"},l("h2",{class:"text-2xl"},e.title),l("p",{class:"text-xl"},e.extract)))}));return l("div",{class:"container"},l("div",{class:"w-1/2 mx-auto inline-flex flex-col content-center space-y-10"},t))}class d extends o{constructor(){super(),this.onInput=e=>{const a=e.target;var s,n;this.setState({search:(s=c({},this.state.search),n={value:a.value},t(s,r(n)))})},this.onSubmit=async e=>{e.preventDefault();const t=await this.fetchSearch(this.state.search.value);t.error||this.setState({searchResult:c({},t)})},this.state={header:"Wikipedia Viewer",random:{text:"Click for random article",url:"https://en.wikipedia.org/wiki/Special:Random"},search:{placeholder:"Type to search",text:"Search",value:""},searchResult:{query:{pages:{}}}}}async fetchSearch(e){const t=`https://en.wikipedia.org/w/api.php?origin=*&format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=${e}`,r=await fetch(t);return await r.json()}render(e,{header:t,random:r,search:a}){return l("div",{id:"app",class:"min-h-full p-5 space-y-10 text-center"},l("div",{class:"container"},l("h1",{class:"text-6xl"},t)),l("div",{class:"container"},l("a",{class:"text-3xl underline",href:r.url,target:"_blank"},r.text)),l(p,{search:this.state.search,onInput:this.onInput,onSubmit:this.onSubmit}),l(h,{result:this.state.searchResult}))}}u(l(d,null),document.getElementById("app"));
